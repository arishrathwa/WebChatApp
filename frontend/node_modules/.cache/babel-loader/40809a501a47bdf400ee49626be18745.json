{"ast":null,"code":"import _defineProperty from\"D:/VSCode/SessionAuth/ChatApp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:/VSCode/SessionAuth/ChatApp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/VSCode/SessionAuth/ChatApp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{connect}from'react-redux';import{update_user_profile}from\"../actions/profile\";import{delete_account}from\"../actions/auth\";import{get_searched_user_list}from\"../actions/friends\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dashboard=function Dashboard(_ref){var delete_account=_ref.delete_account,update_user_profile=_ref.update_user_profile,first_name_global=_ref.first_name_global,last_name_global=_ref.last_name_global,phone_global=_ref.phone_global,city_global=_ref.city_global;var _useState=useState({first_name:'',last_name:'',phone:'',city:''}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var first_name=formData.first_name,last_name=formData.last_name,phone=formData.phone,city=formData.city;//For initial global values\nuseEffect(function(){setFormData({first_name:first_name_global,last_name:last_name_global,phone:phone_global,city:city_global});},[first_name_global,last_name_global,phone_global,city_global]);var _onChange=function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};var _onSubmit=function onSubmit(e){e.preventDefault();update_user_profile(first_name,last_name,phone,city);//it async function\nget_searched_user_list(\"ar\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mt-3\",children:\"Welcome to User Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-3 mb-3\",children:\"Update User Profiel Below..\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return _onSubmit(e);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mt-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"first_name\",children:\"First Name:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",name:\"first_name\",placeholder:first_name_global,onChange:function onChange(e){return _onChange(e);},value:first_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mt-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"last_name\",children:\"Last Name:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",name:\"last_name\",placeholder:last_name_global,onChange:function onChange(e){return _onChange(e);},value:last_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mt-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone\",children:\"Phone:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"number\",name:\"phone\",placeholder:phone_global,onChange:function onChange(e){return _onChange(e);},value:phone})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mt-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"city\",children:\"City:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",name:\"city\",placeholder:city_global,onChange:function onChange(e){return _onChange(e);},value:city})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary mt-3\",type:\"submit\",children:\"Update\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-5\",children:\"Click the button below to delete your User Account : \"}),/*#__PURE__*/_jsx(\"a\",{className:\"btn btn-danger\",href:\"#!\",onClick:delete_account,children:\"Delete Account\"})]});};var mapStateToProps=function mapStateToProps(state){return{username:state.profile.username,first_name_global:state.profile.first_name,last_name_global:state.profile.last_name,phone_global:state.profile.phone,city_global:state.profile.city//these are the variables passed as props globally tomaintain state of application\n};};export default connect(mapStateToProps,{delete_account:delete_account,update_user_profile:update_user_profile})(Dashboard);","map":{"version":3,"sources":["D:/VSCode/SessionAuth/ChatApp/frontend/src/containers/Dashboard.js"],"names":["React","useState","useEffect","connect","update_user_profile","delete_account","get_searched_user_list","Dashboard","first_name_global","last_name_global","phone_global","city_global","first_name","last_name","phone","city","formData","setFormData","onChange","e","target","name","value","onSubmit","preventDefault","mapStateToProps","state","username","profile"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from \"react\";\r\nimport {connect} from 'react-redux'\r\nimport { update_user_profile } from \"../actions/profile\";\r\nimport { delete_account } from \"../actions/auth\";\r\nimport { get_searched_user_list } from \"../actions/friends\";\r\nconst Dashboard = ({\r\n    delete_account,\r\n    update_user_profile,\r\n    first_name_global,\r\n    last_name_global,\r\n    phone_global,\r\n    city_global,\r\n\r\n})=> {\r\n\r\n    \r\n\r\n    const [formData, setFormData] = useState({\r\n        first_name:'',\r\n        last_name:'',\r\n        phone:'',\r\n        city:'',\r\n    })\r\n\r\n    \r\n\r\n    const { first_name, last_name, phone, city} = formData\r\n    \r\n    //For initial global values\r\n    useEffect(() => {\r\n       setFormData({\r\n        first_name:first_name_global,\r\n        last_name:last_name_global,\r\n        phone:phone_global,\r\n        city:city_global,\r\n       });\r\n    }, [first_name_global,last_name_global,phone_global,city_global])\r\n\r\n    const onChange = e => setFormData({...formData,[e.target.name]:e.target.value}) \r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n        update_user_profile( first_name, last_name, phone, city);//it async function\r\n        get_searched_user_list(\"ar\")\r\n    }   \r\n\r\n    return(\r\n        <div className=\"container\">\r\n            <h1 className=\"mt-3\">Welcome to User Dashboard</h1>\r\n            <p className=\"mt-3 mb-3\">Update User Profiel Below..</p>\r\n                <form onSubmit={e=>onSubmit(e)}>\r\n                    <div className=\"form-group mt-3\">\r\n                        <label htmlFor=\"first_name\">First Name:</label>\r\n                        <input \r\n                            className=\"form-control\"\r\n                            type=\"text\"\r\n                            name=\"first_name\"\r\n                            placeholder={first_name_global}\r\n                            onChange={e=>onChange(e)}\r\n                            value={first_name}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group mt-3\">\r\n                        <label htmlFor=\"last_name\">Last Name:</label>\r\n                        <input \r\n                            className=\"form-control\"\r\n                            type=\"text\"\r\n                            name=\"last_name\"\r\n                            placeholder={last_name_global}\r\n                            onChange={e=>onChange(e)}\r\n                            value={last_name}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group mt-3\">\r\n                        <label htmlFor=\"phone\">Phone:</label>\r\n                        <input \r\n                            className=\"form-control\"\r\n                            type=\"number\"                            \r\n                            name=\"phone\"\r\n                            placeholder={phone_global}\r\n                            onChange={e=>onChange(e)}\r\n                            value={phone}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group mt-3\">\r\n                        <label htmlFor=\"city\">City:</label>\r\n                        <input \r\n                            className=\"form-control\"\r\n                            type=\"text\"\r\n                            name=\"city\"\r\n                            placeholder={city_global}\r\n                            onChange={e=>onChange(e)}\r\n                            value={city}\r\n                        />\r\n                    </div>\r\n                    <button className=\"btn btn-primary mt-3\" type=\"submit\">\r\n                        Update\r\n                    </button>\r\n                </form>\r\n                <p className=\"mt-5\">Click the button below to delete your User Account : </p>\r\n                <a className=\"btn btn-danger\" href=\"#!\" onClick={delete_account}>\r\n                    Delete Account\r\n                </a>\r\n        </div>\r\n    );\r\n    \r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    username : state.profile.username,\r\n    first_name_global:state.profile.first_name,\r\n    last_name_global:state.profile.last_name,\r\n    phone_global:state.profile.phone,\r\n    city_global:state.profile.city,\r\n    //these are the variables passed as props globally tomaintain state of application\r\n})\r\n\r\nexport default connect(mapStateToProps,{delete_account ,update_user_profile})(Dashboard);\r\n"]},"metadata":{},"sourceType":"module"}