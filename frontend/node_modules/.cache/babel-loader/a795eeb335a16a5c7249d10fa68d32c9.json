{"ast":null,"code":"import _regeneratorRuntime from\"D:/VSCode/SessionAuth/ChatApp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/VSCode/SessionAuth/ChatApp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"D:/VSCode/SessionAuth/ChatApp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:/VSCode/SessionAuth/ChatApp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/VSCode/SessionAuth/ChatApp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{connect}from'react-redux';import{update_user_profile}from\"../actions/profile\";import{delete_account}from\"../actions/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dashboard=function Dashboard(_ref){var delete_account=_ref.delete_account,update_user_profile=_ref.update_user_profile,first_name_global=_ref.first_name_global,last_name_global=_ref.last_name_global,phone_global=_ref.phone_global,city_global=_ref.city_global;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),profileUpdated=_useState2[0],setprofileUpdated=_useState2[1];var _useState3=useState({first_name:'',last_name:'',phone:'',city:''}),_useState4=_slicedToArray(_useState3,2),formData=_useState4[0],setFormData=_useState4[1];var first_name=formData.first_name,last_name=formData.last_name,phone=formData.phone,city=formData.city;//For initial global values\nuseEffect(function(){setFormData({first_name:first_name_global,last_name:last_name_global,phone:phone_global,city:city_global});},[first_name_global,last_name_global,phone_global,city_global]);var _onChange=function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};var _onSubmit=function onSubmit(e){e.preventDefault();var updateProfile=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return update_user_profile(first_name,last_name,phone,city);case 2://it async function\nsetprofileUpdated(!profileUpdated);case 3:case\"end\":return _context.stop();}}},_callee);}));return function updateProfile(){return _ref2.apply(this,arguments);};}();};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mt-3\",children:\"Welcome to User Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-3 mb-3\",children:\"Update User Profiel Below..\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return _onSubmit(e);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"first_name\",children:\"First Name:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",name:\"first_name\",placeholder:first_name_global,onChange:function onChange(e){return _onChange(e);},value:first_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"last_name\",children:\"Last Name:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",name:\"last_name\",placeholder:last_name_global,onChange:function onChange(e){return _onChange(e);},value:last_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone\",children:\"Phone:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"number\",name:\"phone\",placeholder:phone_global,onChange:function onChange(e){return _onChange(e);},value:phone})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"city\",children:\"City:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",name:\"city\",placeholder:city_global,onChange:function onChange(e){return _onChange(e);},value:city})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary mt-3\",type:\"submit\",children:\"Update\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Click the button below to delete your User Account : \"}),/*#__PURE__*/_jsx(\"a\",{className:\"btn btn-danger\",href:\"#!\",onClick:delete_account,children:\"Delete Account\"})]});};var mapStateToProps=function mapStateToProps(state){return{first_name_global:state.profile.first_name,last_name_global:state.profile.last_name,phone_global:state.profile.phone,city_global:state.profile.city//these are the variables passed as props globally tomaintain state of application\n};};export default connect(mapStateToProps,{delete_account:delete_account,update_user_profile:update_user_profile})(Dashboard);","map":{"version":3,"sources":["D:/VSCode/SessionAuth/ChatApp/frontend/src/containers/Dashboard.js"],"names":["React","useState","useEffect","connect","update_user_profile","delete_account","Dashboard","first_name_global","last_name_global","phone_global","city_global","profileUpdated","setprofileUpdated","first_name","last_name","phone","city","formData","setFormData","onChange","e","target","name","value","onSubmit","preventDefault","updateProfile","mapStateToProps","state","profile"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from \"react\";\r\nimport {connect} from 'react-redux'\r\nimport { update_user_profile } from \"../actions/profile\";\r\nimport { delete_account } from \"../actions/auth\";\r\nconst Dashboard = ({\r\n    delete_account,\r\n    update_user_profile,\r\n    first_name_global,\r\n    last_name_global,\r\n    phone_global,\r\n    city_global,\r\n\r\n})=> {\r\n\r\n    const [profileUpdated, setprofileUpdated] = useState(false)\r\n\r\n    const [formData, setFormData] = useState({\r\n        first_name:'',\r\n        last_name:'',\r\n        phone:'',\r\n        city:'',\r\n    })\r\n\r\n    \r\n\r\n    const { first_name, last_name, phone, city} = formData\r\n    \r\n    //For initial global values\r\n    useEffect(() => {\r\n       setFormData({\r\n        first_name:first_name_global,\r\n        last_name:last_name_global,\r\n        phone:phone_global,\r\n        city:city_global,\r\n       });\r\n    }, [first_name_global,last_name_global,phone_global,city_global])\r\n\r\n    const onChange = e => setFormData({...formData,[e.target.name]:e.target.value})\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n        const updateProfile = async ()=>{\r\n            await update_user_profile( first_name, last_name, phone, city);//it async function\r\n            setprofileUpdated(!profileUpdated)\r\n        }\r\n        \r\n    }   \r\n\r\n    return(\r\n        <div className=\"container\">\r\n            <h1 className=\"mt-3\">Welcome to User Dashboard</h1>\r\n            <p className=\"mt-3 mb-3\">Update User Profiel Below..</p>\r\n                <form onSubmit={e=>onSubmit(e)}>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"first_name\">First Name:</label>\r\n                        <input \r\n                            className=\"form-control\"\r\n                            type=\"text\"\r\n                            name=\"first_name\"\r\n                            placeholder={first_name_global}\r\n                            onChange={e=>onChange(e)}\r\n                            value={first_name}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"last_name\">Last Name:</label>\r\n                        <input \r\n                            className=\"form-control\"\r\n                            type=\"text\"\r\n                            name=\"last_name\"\r\n                            placeholder={last_name_global}\r\n                            onChange={e=>onChange(e)}\r\n                            value={last_name}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"phone\">Phone:</label>\r\n                        <input \r\n                            className=\"form-control\"\r\n                            type=\"number\"                            \r\n                            name=\"phone\"\r\n                            placeholder={phone_global}\r\n                            onChange={e=>onChange(e)}\r\n                            value={phone}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"city\">City:</label>\r\n                        <input \r\n                            className=\"form-control\"\r\n                            type=\"text\"\r\n                            name=\"city\"\r\n                            placeholder={city_global}\r\n                            onChange={e=>onChange(e)}\r\n                            value={city}\r\n                        />\r\n                    </div>\r\n                    <button className=\"btn btn-primary mt-3\" type=\"submit\">\r\n                        Update\r\n                    </button>\r\n                </form>\r\n                <p>Click the button below to delete your User Account : </p>\r\n                <a className=\"btn btn-danger\" href=\"#!\" onClick={delete_account}>\r\n                    Delete Account\r\n                </a>\r\n        </div>\r\n    );\r\n    \r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n\r\n    first_name_global:state.profile.first_name,\r\n    last_name_global:state.profile.last_name,\r\n    phone_global:state.profile.phone,\r\n    city_global:state.profile.city,\r\n    //these are the variables passed as props globally tomaintain state of application\r\n})\r\n\r\nexport default connect(mapStateToProps,{delete_account ,update_user_profile})(Dashboard);\r\n"]},"metadata":{},"sourceType":"module"}